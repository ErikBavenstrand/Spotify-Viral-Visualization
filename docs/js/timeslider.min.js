/*! viral-50 v0.0.1 | (c) 2020 Erik BÃ¥venstrand | MIT License | https://github.com/ErikBavenstrand/DH2321-Spotify-Project */
var sliderInput=d3.select(".slider"),sliderLabels=d3.select(".slider-labels");function loadTimeSlider(){var e=Object.keys(data_attrs).filter((function(e,t){return"minimum"!==e&&"maximum"!==e&&t%10==0})).reverse();sliderLabels.selectAll("li").data(e).enter().append("li").text((function(e){return d3.select(this).attr("id","week_"+weekToValue(e)),e})).each((function(e){var t=sliderInput.node().getBoundingClientRect().width*(155-weekToValue(e))/155-18*(155-weekToValue(e))/155;t=t+9-d3.select(this).node().getBoundingClientRect().width/2,d3.select(this).style("left",t+"px")})),sliderLabels.selectAll("li").classed("active",!0).on("click",(function(e){sliderInput.property("value",155-weekToValue(e)),updateTimeSliderStyle(weekToValue(e)),sliderInput.dispatch("input")})),sliderLabels.selectAll("#week_0").classed("active selected",!0),sliderInput.on("input",(function(){updateTimeSliderStyle(155-this.value),dataWeek=valueToWeek(155-this.value),d3.select("#week-label").text("Week: "+dataWeek),updateWorldMap(data_attrs[dataWeek],data_attrs.minimum,data_attrs.maximum),changeWeekDetailView()})),sliderInput.style("background","linear-gradient(to right, #1ed760 0%, #1ed760 100%, #404040 100%, #404040 100%)"),sliderInput.dispatch("input")}function updateTimeSliderStyle(e){sliderLabels.selectAll("li").classed("active selected",!1).filter((function(t){return e<=weekToValue(t)})).classed("active",!0),d3.select("#week_"+e).classed("active selected",!0);var t=100*(155-e)/155;sliderInput.style("background","linear-gradient(to right, #1ed760 0%, #1ed760 "+t+"%, #404040 "+t+"%, #404040 100%)")}