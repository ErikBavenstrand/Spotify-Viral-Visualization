/*! viral-50 v0.0.1 | (c) 2020 Erik BÃ¥venstrand | MIT License | https://github.com/ErikBavenstrand/DH2321-Spotify-Project */
var sampleData=[],margin={top:50,right:10,bottom:20,left:60},totalWidth=.35*window.innerWidth,innerWidth=totalWidth-margin.left-margin.right,totalHeight=.3*window.innerHeight,innerHeight=totalHeight-margin.top-margin.bottom;toggleDetailViewVisibility();var chart=d3.select("#linechart").append("svg").attr("width",totalWidth).attr("height",totalHeight).append("g").attr("transform","translate("+margin.left+","+margin.top+")"),xLength=weeks.length-1,xScale=d3.scaleLinear().domain([0,xLength]).range([0,innerWidth]),yScale=d3.scaleLinear().domain([0,1]).range([innerHeight,0]),line=d3.line().x((function(t,a){return xScale(t.x)})).y((function(t,a){return yScale(t.y)})).curve(d3.curveBasis);chart.append("g").attr("class","x axis").attr("transform","translate(0,"+innerHeight+")").call(d3.axisBottom(xScale)),chart.append("g").attr("class","y axis").call(d3.axisLeft(yScale)),Promise.all([d3.json("data/random_test_data.json")]).then((function(t){sampleData=t[0].map((function(t,a){return{x:a,y:t}})),chart.append("path").datum(sampleData).attr("class","line").attr("d",line),chart.selectAll(".dot").data(sampleData).enter().append("circle").attr("class","dot").attr("opacity","0.5").attr("cx",(function(t,a){return xScale(t.x)})).attr("cy",(function(t){return yScale(t.y)})).attr("r",2).on("mouseover",(function(t,a,e){console.log(t),this.attr("class","focus")})).on("mouseout",(function(){}))}));